<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>广州美食指南 - 发现地道粤式美味</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
          "PingFang SC", "Microsoft YaHei", sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* 头部样式 */
      header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 0;
      }

      .logo {
        font-size: 1.8rem;
        font-weight: bold;
        color: #e74c3c;
        text-decoration: none;
      }

      .nav-links {
        display: flex;
        list-style: none;
        gap: 2rem;
      }

      .nav-links a {
        text-decoration: none;
        color: #333;
        font-weight: 500;
        transition: color 0.3s;
      }

      .nav-links a:hover,
      .nav-links a.active {
        color: #e74c3c;
      }

      /* 主要内容区域 */
      main {
        padding: 2rem 0;
      }

      .hero {
        text-align: center;
        margin-bottom: 3rem;
        color: white;
      }

      .hero h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .hero p {
        font-size: 1.2rem;
        opacity: 0.9;
      }

      /* 地区选择器 */
      .district-selector {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
      }

      .district-btn {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 1rem;
        font-weight: 500;
        backdrop-filter: blur(10px);
      }

      .district-btn:hover,
      .district-btn.active {
        background: rgba(255, 255, 255, 0.9);
        color: #333;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      }

      /* 美食卡片网格 */
      .food-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
      }

      .food-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s, box-shadow 0.3s;
        position: relative;
        cursor: pointer;
      }

      .food-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      }

      .card-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .card-content {
        padding: 1.5rem;
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
      }

      .food-name {
        font-size: 1.4rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 0.5rem;
      }

      .food-type {
        background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        color: white;
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        font-size: 0.8rem;
        font-weight: 500;
      }

      .rating-price {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
      }

      .rating {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .stars {
        color: #f1c40f;
        font-size: 1.1rem;
      }

      .price {
        color: #e74c3c;
        font-weight: bold;
        font-size: 1.1rem;
      }

      .description {
        color: #666;
        margin-bottom: 1rem;
        line-height: 1.6;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }

      .specialties {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .specialty-tag {
        background: #f8f9fa;
        color: #495057;
        padding: 0.3rem 0.6rem;
        border-radius: 12px;
        font-size: 0.8rem;
        border: 1px solid #dee2e6;
      }

      .card-footer {
        padding-top: 1rem;
        border-top: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.9rem;
        color: #666;
      }

      .location {
        display: flex;
        align-items: center;
        gap: 0.3rem;
      }

      .view-details {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: transform 0.2s;
      }

      .view-details:hover {
        transform: scale(1.05);
      }

      /* 详细信息模态框 */
      .detail-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 1000;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .detail-modal.active {
        display: flex;
      }

      .modal-content {
        background: white;
        border-radius: 20px;
        max-width: 800px;
        max-height: 90vh;
        width: 100%;
        overflow-y: auto;
        position: relative;
      }

      .modal-header {
        position: relative;
        height: 300px;
        overflow: hidden;
        border-radius: 20px 20px 0 0;
      }

      .modal-main-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .modal-close {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .modal-body {
        padding: 2rem;
      }

      .modal-title {
        font-size: 2rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 1rem;
      }

      .modal-meta {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 2rem;
        padding: 1.5rem;
        background: #f8f9fa;
        border-radius: 10px;
      }

      .meta-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.95rem;
      }

      .meta-icon {
        font-size: 1.2rem;
      }

      .detail-section {
        margin-bottom: 2rem;
      }

      .section-title {
        font-size: 1.3rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .section-content {
        color: #555;
        line-height: 1.6;
      }

      .specialty-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 0.5rem;
        margin-top: 1rem;
      }

      .specialty-item {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        padding: 0.8rem 1rem;
        border-radius: 10px;
        text-align: center;
        font-weight: 500;
      }

      .image-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin-top: 1rem;
      }

      .gallery-image {
        width: 100%;
        height: 120px;
        object-fit: cover;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .gallery-image:hover {
        transform: scale(1.05);
      }

      /* 图片查看器 */
      .image-viewer {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        z-index: 1100;
        justify-content: center;
        align-items: center;
      }

      .image-viewer.active {
        display: flex;
      }

      .viewer-content {
        max-width: 90%;
        max-height: 90%;
        position: relative;
      }

      .viewer-image {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
        border-radius: 8px;
      }

      .viewer-close {
        position: absolute;
        top: -40px;
        right: 0;
        color: white;
        font-size: 2rem;
        cursor: pointer;
        background: rgba(255, 255, 255, 0.2);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s;
      }

      .viewer-close:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      /* 响应式设计 */
      @media (max-width: 768px) {
        .hero h1 {
          font-size: 2rem;
        }

        .nav-links {
          gap: 1rem;
        }

        .food-grid {
          grid-template-columns: 1fr;
          gap: 1.5rem;
        }

        .district-selector {
          gap: 0.5rem;
        }

        .district-btn {
          padding: 0.6rem 1rem;
          font-size: 0.9rem;
        }

        .modal-content {
          margin: 10px;
          max-height: 95vh;
        }

        .modal-body {
          padding: 1.5rem;
        }

        .modal-meta {
          grid-template-columns: 1fr;
          gap: 0.5rem;
        }

        .specialty-list {
          grid-template-columns: 1fr;
        }

        .image-gallery {
          grid-template-columns: repeat(2, 1fr);
        }
      }

      /* 加载动画 */
      .loading {
        text-align: center;
        padding: 2rem;
        color: white;
      }

      .spinner {
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-top: 3px solid white;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="container">
        <a href="#" class="logo">🥟 广州美食指南</a>
        <ul class="nav-links">
          <li><a href="#" class="active">首页</a></li>
          <li><a href="#about">关于</a></li>
          <li><a href="#contact">联系</a></li>
        </ul>
      </nav>
    </header>

    <main class="container">
      <section class="hero">
        <h1>发现地道广州美味</h1>
        <p>探索越秀、天河、荔湾三大区域的传统粤式美食</p>
      </section>

      <div class="district-selector">
        <button class="district-btn active" data-district="all">
          全部地区
        </button>
        <button class="district-btn" data-district="yuexiu">越秀区</button>
        <button class="district-btn" data-district="tianhe">天河区</button>
        <button class="district-btn" data-district="liwan">荔湾区</button>
      </div>

      <section id="food-list">
        <div class="loading">
          <div class="spinner"></div>
          <p>正在加载美食信息...</p>
        </div>
      </section>
    </main>

    <!-- 详细信息模态框 -->
    <div class="detail-modal" id="detailModal">
      <div class="modal-content">
        <div class="modal-header">
          <img class="modal-main-image" id="modalMainImage" src="" alt="" />
          <button class="modal-close" onclick="closeDetailModal()">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <h2 class="modal-title" id="modalTitle"></h2>

          <div class="modal-meta">
            <div class="meta-item">
              <span class="meta-icon">⭐</span>
              <span id="modalRating"></span>
            </div>
            <div class="meta-item">
              <span class="meta-icon">💰</span>
              <span id="modalPrice"></span>
            </div>
            <div class="meta-item">
              <span class="meta-icon">🕒</span>
              <span id="modalHours"></span>
            </div>
            <div class="meta-item">
              <span class="meta-icon">📍</span>
              <span id="modalLocation"></span>
            </div>
            <div class="meta-item">
              <span class="meta-icon">📞</span>
              <span id="modalPhone"></span>
            </div>
            <div class="meta-item">
              <span class="meta-icon">🏷️</span>
              <span id="modalType"></span>
            </div>
          </div>

          <div class="detail-section">
            <h3 class="section-title">🍽️ 餐厅介绍</h3>
            <div class="section-content" id="modalDescription"></div>
          </div>

          <div class="detail-section">
            <h3 class="section-title">⭐ 招牌特色</h3>
            <div class="specialty-list" id="modalSpecialties"></div>
          </div>

          <div
            class="detail-section"
            id="detailedInfoSection"
            style="display: none"
          >
            <h3 class="section-title">📖 详细信息</h3>
            <div id="detailedInfoContent"></div>
          </div>

          <div class="detail-section">
            <h3 class="section-title">📸 图片展示</h3>
            <div class="image-gallery" id="modalGallery"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- 图片查看器 -->
    <div class="image-viewer" id="imageViewer">
      <div class="viewer-content">
        <div class="viewer-close" onclick="closeImageViewer()">&times;</div>
        <img class="viewer-image" id="viewerImage" src="" alt="" />
      </div>
    </div>

    <script>
      // 美食数据变量
      let foodsData = {
        yuexiu: [
          {
            id: 1,
            name: "广州酒家（文昌总店）",
            type: "粤菜/早茶",
            description:
              "素有'食在广州第一家'美誉的百年老字号，传统粤菜与早茶的经典代表，环境优雅，服务周到，是体验正宗广府文化的首选之地",
            location: "越秀区文昌南路2号",
            rating: 4.6,
            price: "人均120-150元",
            hours: "07:00-22:00",
            phone: "020-81380388",
            specialties: [
              "白切鸡",
              "红烧乳鸽",
              "虾饺皇",
              "烧卖",
              "叉烧包",
              "马拉糕",
            ],
            mainImage:
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563612116625-3012372fccce?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1571167935207-4b9c3c1b1d33?w=600&h=400&fit=crop",
            ],
            detailedInfo: {
              history:
                "创立于1935年，素有'食在广州第一家'的美誉，是著名的老字号茶楼。历经近百年风雨，仍保持着传统粤菜的精髓。",
              environment:
                "古色古香的装修风格，中庭小榕树别有韵味，传统与现代完美融合，是品味老广州文化的绝佳场所。",
              recommendations: [
                "白切鸡是招牌菜，皮爽肉嫩",
                "虾饺皇选用新鲜河虾制作",
                "红烧乳鸽外酥内嫩",
                "传统早茶文化体验",
              ],
              tips: [
                "早茶时间较为拥挤，建议提前预约",
                "停车位紧张，建议公共交通出行",
                "人均消费120-150元属中等价位",
              ],
            },
          },
          {
            id: 2,
            name: "北园酒家",
            type: "粤菜/早茶/园林餐厅",
            description:
              "广州四大园林酒家之一，创建于1920年代，以岭南园林风格和精致早茶闻名，环境雅致，是老广州人的心头好",
            location: "越秀区小北路202号",
            rating: 4.5,
            price: "人均80-120元",
            hours: "09:00-21:30",
            phone: "020-83552740",
            specialties: [
              "北园虾饺皇",
              "北园烧卖皇",
              "蜜饯烧排骨",
              "冬瓜牛腩煲",
              "梅干菜粥",
              "糯米鸡",
            ],
            mainImage:
              "https://images.unsplash.com/photo-1571169467267-d7ad59c82953?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1571169467267-d7ad59c82953?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1571167935207-4b9c3c1b1d33?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
            ],
          },
          {
            id: 3,
            name: "点都德",
            type: "早茶/点心",
            description:
              "广州知名早茶连锁品牌，以精致点心和亲民价格著称，环境现代化，出餐速度快，深受年轻人喜爱",
            location: "越秀区中山五路68号五月花商业广场",
            rating: 4.2,
            price: "人均60-90元",
            hours: "06:30-15:00",
            phone: "020-83336288",
            specialties: ["流沙包", "虾饺", "烧卖", "肠粉", "马蹄糕", "奶黄包"],
            mainImage:
              "https://images.unsplash.com/photo-1563612116625-3012372fccce?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1563612116625-3012372fccce?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1571167935207-4b9c3c1b1d33?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
            ],
          },
        ],
        tianhe: [
          {
            id: 11,
            name: "江 Jiang by Chef Fei",
            type: "高端粤菜/米其林二星",
            description:
              "广州首家米其林二星餐厅，由知名厨师黄景辉主理，将传统粤菜与现代创新完美融合，环境优雅，服务一流",
            location: "天河区天河路389号文华东方酒店三楼",
            rating: 4.8,
            price: "人均800-1200元",
            hours: "12:00-14:30, 18:30-22:00",
            phone: "020-38088885",
            specialties: [
              "亚麻籽烧鸡",
              "笼仔荷叶糯米蒸",
              "乐蟹",
              "金牌烧鹅",
              "创新点心",
            ],
            mainImage:
              "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1571167935207-4b9c3c1b1d33?w=600&h=400&fit=crop",
            ],
          },
          {
            id: 12,
            name: "炳胜品味",
            type: "粤菜/海鲜",
            description:
              "炳胜集团的招牌餐厅，连续两年获得橄榄中国餐厅年度粤菜餐厅奖，以精致粤菜和新鲜海鲜著称",
            location: "天河区天河北路233号中信广场4楼",
            rating: 4.6,
            price: "人均200-300元",
            hours: "11:00-14:30, 17:30-21:30",
            phone: "020-38777688",
            specialties: [
              "秘制黑叉烧",
              "豉汁皇鹅肠",
              "烧味拼盘",
              "时令海鲜",
              "精品点心",
            ],
            mainImage:
              "https://images.unsplash.com/photo-1571847140471-1d7766e825ea?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1571847140471-1d7766e825ea?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563612116625-3012372fccce?w=600&h=400&fit=crop",
            ],
          },
        ],
        liwan: [
          {
            id: 21,
            name: "陈添记",
            type: "小吃/传统",
            description:
              "广州最著名的鱼皮专门店，30多年历史，以祖传爽鱼皮、艇仔粥和豉油王蒸猪肠粉三样招牌小吃闻名全城",
            location: "荔湾区宝华路十五甫三巷2号之3",
            rating: 4.6,
            price: "人均15-25元",
            hours: "07:00-18:00",
            phone: "020-81828774",
            specialties: [
              "祖传爽鱼皮",
              "传统艇仔粥",
              "豉油王蒸猪肠粉",
              "招牌鱼皮",
              "双丸",
            ],
            mainImage:
              "https://images.unsplash.com/photo-1551218808-94e220e084d2?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1551218808-94e220e084d2?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1571167935207-4b9c3c1b1d33?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
            ],
          },
          {
            id: 22,
            name: "泮溪酒家",
            type: "粤菜/园林餐厅",
            description:
              "全国最大的园林式酒家，位于荔枝湾畔，环境优美如画，是中国20世纪建筑遗产，以传统粤菜和点心宴闻名",
            location: "荔湾区龙津西路151号",
            rating: 4.5,
            price: "人均100-180元",
            hours: "07:30-21:00",
            phone: "020-81721328",
            specialties: [
              "点心宴",
              "泮塘马蹄糕",
              "八珍茭笋皇",
              "鲜虾肠",
              "满汉全筵精选",
            ],
            mainImage:
              "https://images.unsplash.com/photo-1571169467267-d7ad59c82953?w=400&h=300&fit=crop",
            gallery: [
              "https://images.unsplash.com/photo-1571169467267-d7ad59c82953?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563379091364-02f0a69b35b0?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1496116218417-1a781b1c416c?w=600&h=400&fit=crop",
              "https://images.unsplash.com/photo-1563612116625-3012372fccce?w=600&h=400&fit=crop",
            ],
          },
        ],
      };

      // 生成星级评分
      function generateStars(rating) {
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 !== 0;
        let stars = "";

        for (let i = 0; i < fullStars; i++) {
          stars += "★";
        }
        if (hasHalfStar) {
          stars += "☆";
        }
        return stars;
      }

      // 创建美食卡片
      function createFoodCard(food) {
        return `
        <div class="food-card" data-district="${
          food.district || ""
        }" onclick="openDetailModal(${food.id})">
            <img src="${food.mainImage}" alt="${food.name}" class="card-image">
            <div class="card-content">
                <div class="card-header">
                    <div>
                        <h3 class="food-name">${food.name}</h3>
                        <span class="food-type">${food.type}</span>
                    </div>
                </div>
                <div class="rating-price">
                    <div class="rating">
                        <span class="stars">${generateStars(food.rating)}</span>
                        <span>${food.rating}</span>
                    </div>
                    <div class="price">${food.price}</div>
                </div>
                <p class="description">${food.description}</p>
                <div class="specialties">
                    ${food.specialties
                      .slice(0, 3)
                      .map(
                        (specialty) =>
                          `<span class="specialty-tag">${specialty}</span>`
                      )
                      .join("")}
                </div>
                <div class="card-footer">
                    <div class="location">📍 ${food.location}</div>
                    <button class="view-details" onclick="event.stopPropagation(); openDetailModal(${
                      food.id
                    })">查看详情</button>
                </div>
            </div>
        </div>
    `;
      }

      // 渲染美食列表
      function renderFoods(district = "all") {
        const foodList = document.getElementById("food-list");
        let foodsToShow = [];

        if (district === "all") {
          Object.keys(foodsData).forEach((key) => {
            foodsData[key].forEach((food) => {
              food.district = key;
              foodsToShow.push(food);
            });
          });
        } else {
          foodsToShow = foodsData[district] || [];
          foodsToShow.forEach((food) => (food.district = district));
        }

        if (foodsToShow.length === 0) {
          foodList.innerHTML = `
            <div class="loading">
                <p>该地区暂无美食信息</p>
            </div>
        `;
          return;
        }

        const foodCards = foodsToShow
          .map((food) => createFoodCard(food))
          .join("");
        foodList.innerHTML = `<div class="food-grid">${foodCards}</div>`;
      }

      // 查找食物数据
      function findFoodById(id) {
        for (let district in foodsData) {
          const food = foodsData[district].find((item) => item.id === id);
          if (food) {
            food.district = district;
            return food;
          }
        }
        return null;
      }

      // 打开详细信息模态框
      function openDetailModal(foodId) {
        const food = findFoodById(foodId);
        if (!food) return;

        // 填充基本信息
        document.getElementById("modalTitle").textContent = food.name;
        document.getElementById("modalMainImage").src = food.mainImage;
        document.getElementById("modalRating").textContent = `${generateStars(
          food.rating
        )} ${food.rating}`;
        document.getElementById("modalPrice").textContent = food.price;
        document.getElementById("modalHours").textContent = food.hours;
        document.getElementById("modalLocation").textContent = food.location;
        document.getElementById("modalPhone").textContent =
          food.phone || "暂无";
        document.getElementById("modalType").textContent = food.type;
        document.getElementById("modalDescription").textContent =
          food.description;

        // 填充招牌特色
        const specialtiesHtml = food.specialties
          .map((specialty) => `<div class="specialty-item">${specialty}</div>`)
          .join("");
        document.getElementById("modalSpecialties").innerHTML = specialtiesHtml;

        // 填充图片展示
        const galleryHtml = food.gallery
          .map(
            (img) =>
              `<img src="${img}" alt="${food.name}" class="gallery-image" onclick="openImageViewer('${img}')">`
          )
          .join("");
        document.getElementById("modalGallery").innerHTML = galleryHtml;

        // 填充详细信息（如果有）
        const detailedInfoSection = document.getElementById(
          "detailedInfoSection"
        );
        const detailedInfoContent = document.getElementById(
          "detailedInfoContent"
        );

        if (food.detailedInfo) {
          let detailedHtml = "";
          if (food.detailedInfo.history) {
            detailedHtml += `<div class="detail-section"><h4>🏛️ 历史沿革</h4><p>${food.detailedInfo.history}</p></div>`;
          }
          if (food.detailedInfo.environment) {
            detailedHtml += `<div class="detail-section"><h4>🏞️ 环境特色</h4><p>${food.detailedInfo.environment}</p></div>`;
          }
          if (
            food.detailedInfo.recommendations &&
            food.detailedInfo.recommendations.length > 0
          ) {
            detailedHtml += `<div class="detail-section"><h4>💡 推荐理由</h4><ul>`;
            food.detailedInfo.recommendations.forEach((rec) => {
              detailedHtml += `<li>${rec}</li>`;
            });
            detailedHtml += `</ul></div>`;
          }
          if (food.detailedInfo.tips && food.detailedInfo.tips.length > 0) {
            detailedHtml += `<div class="detail-section"><h4>💭 实用贴士</h4><ul>`;
            food.detailedInfo.tips.forEach((tip) => {
              detailedHtml += `<li>${tip}</li>`;
            });
            detailedHtml += `</ul></div>`;
          }

          detailedInfoContent.innerHTML = detailedHtml;
          detailedInfoSection.style.display = "block";
        } else {
          detailedInfoSection.style.display = "none";
        }

        // 显示模态框
        document.getElementById("detailModal").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      // 关闭详细信息模态框
      function closeDetailModal() {
        document.getElementById("detailModal").classList.remove("active");
        document.body.style.overflow = "auto";
      }

      // 图片查看器功能
      function openImageViewer(imageSrc) {
        document.getElementById("viewerImage").src = imageSrc;
        document.getElementById("imageViewer").classList.add("active");
      }

      function closeImageViewer() {
        document.getElementById("imageViewer").classList.remove("active");
      }

      // 地区选择器事件
      document.querySelectorAll(".district-btn").forEach((btn) => {
        btn.addEventListener("click", (e) => {
          document
            .querySelectorAll(".district-btn")
            .forEach((b) => b.classList.remove("active"));
          e.target.classList.add("active");

          const district = e.target.dataset.district;
          renderFoods(district);
        });
      });

      // 键盘事件
      document.addEventListener("keydown", (e) => {
        if (
          document.getElementById("imageViewer").classList.contains("active")
        ) {
          if (e.key === "Escape") {
            closeImageViewer();
          }
        }

        if (
          document.getElementById("detailModal").classList.contains("active")
        ) {
          if (e.key === "Escape") {
            closeDetailModal();
          }
        }
      });

      // 点击背景关闭模态框
      document.getElementById("imageViewer").addEventListener("click", (e) => {
        if (e.target === e.currentTarget) {
          closeImageViewer();
        }
      });

      document.getElementById("detailModal").addEventListener("click", (e) => {
        if (e.target === e.currentTarget) {
          closeDetailModal();
        }
      });

      // 页面加载完成后渲染
      document.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          renderFoods("all");
        }, 1000);
      });

      // 平滑滚动
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
            });
          }
        });
      });
    </script>
  </body>
</html>
